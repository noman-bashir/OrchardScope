% \textbf{This section should not be more than 2 columns.}

The world food demand is expected to double by the year 2050, primarily driven by the upward social mobility and the increase in the world population~\cite{godfray2010food}. 
The additional problems of climate change, water shortage, and reduced agricultural land are making the problem of meeting this increased demand significantly difficult. 
It is estimated that data-driven agriculture practices can help increase the productivity of the farms by 67\% by cutting down the losses by 2050. 
There have been very successful field trials which show that varying the water input across different places on the farm based on the sensor measurements can increase farm productivity by as much as 45\% while reducing the water intake by 35\%~\cite{almarshadi2011effects}.  Similar techniques have proved to be very beneficial to other farm inputs like soil nutrients and seeds~\cite{kim2009soil}. While there has been a lot of work by big R\&D companies such as Microsoft Research and many startups on developing smart agricultural applications for the end farmers, these efforts are highly dedicated and there is a lack of open-source frameworks that enable multiple precision agriculture applications.
% \fatima{Only commercial efforts are not enough, infact academic input from agricultural and engineering experts is needed to better research the optimal use of technology in precision agriculture. It is imperative for academic community to produce open source hardware/software testbeds around precision agriculture to promote academic research.}

In addition to increasing the yields for the farmers, agriculture researchers are another potential group that can benefit from this boom in precision agriculture. The agriculture researchers may need a more in-depth insight into the farm, requiring visual and environmental data at a temporal and spatial resolution that may not be needed by the end farmers. 
The current weather models used for agriculture are very coarse and do not take into account the micro-climates that may exist within the farm. 
% \fatima{Its better to have references for all of these claims. What damage do micro climates and pests do etc. Ask Paul for these references} 
There is a need to gather environmental data at a much higher spatial and temporal resolution inside the tree canopy. In addition, the prior work suggests that the pest attacks and spread of diseases can be identified by analyzing the tree leaves. However, the state of the art in this domain is to analyze the infected tree leaves manually, which does not lead to a robust response. This calls for an automated system of capturing images periodically and processing them to analyze the disease spread and pest attack patterns. The agricultural scientists are also interested in finding the correlation between the environmental variables and the diseases, an analysis that is not possible without high resolution environmental and image data.

The field of precision agriculture is in its infancy, relative to Internet-of-Things (IoT) and Wireless Sensor Networks (WSN). The precision agriculture shares many goals and constraints of IoT and WSN, such as resource-constrained devices, in the wild deployments, and need for ubiquity. The research work on precision agriculture has borrowed heavily from prior work on WSN and IoT, as summarized by Thakur et al~\cite{thakur2019applicability}. FarmBeats is the most well-known IoT platform for data-driven agriculture~\cite{vasisht2017farmbeats, kapetanovic2017experiences, jain2019low}. It shares the high level goals of our project for monitoring the farm and having processing capabilities at the edge, but it is not salable and does not allow the implementation of generic precision agriculture applications. 
Our goal is to build an interactive, near real-time, and extensible framework that monitors the smallest component in the farm i.e. leaves, as well as the fewer large trees, so that the agriculture scientists can use this rich temporal and spatial data to understand the impact of micro-climates as well as enable different precision agriculture applications.


To address this problem, we present OrchardScope, an IoT platform for precision agriculture applications that is \emph{simple}, \emph{extensible}, and \emph{open-source}. A key goal of OrchardScope is to simplify the data access and application deployment for the farmers and academic researchers that require innovative and practical precision agriculture applications, but are not experts in IoT. This approach differs from existing platforms, such as FarmBeats~\cite{vasisht2017farmbeats}, which require familiarity with embedded devices and Microsoft Azure to access and develop applications. Researchers and farmers may not have such expertise or time to learn and develop FarmBeats applications. OrchardScope satisfies an overreaching constraint of developing a low-power and low cost solution: it runs on a solar panel with a battery backup and the core design components cost less than \$X for monitoring a block of trees. 

OrchardScope's \emph{extensible} design is based on a three-tiered architecture consisting of node, network, and application tiers. The OrchardScope node allows easy integration of new sensors and facilitates deployment of ML applications at the edge. OrchardScope network is scalable and uses dedicated radios to enable node-node, node-cloud, and node-vehicle communication. OrchardScope application tier allows users to view and use data pipelines to build different applications. We plan to \emph{publicly release} OrchardScope as open-source to advance precision agriculture research and applications that require visual and environmental data at various resolutions with different response times. Our hypothesis is that this design can provide researchers and farmers a simple way to acquire high resolution data and enable the implementation of existing and new precision agriculture applications. 

% In this paper, we present OrchardScope, a network and computing architecture for precision agriculture, that seamlessly enables different applications with very different data requirements, computation needs, and allowing different times to react. OrchardScope can ensure system availability  even  in  the  face  of  power  and  Internet  outages caused by bad weather, a fairly common scenario for a farm.  Further, OrchardScope enables cloud connectivity for the sensor data for user access and to enable persistent storage as well as long-term or cross-farm analytics. We plan to deploy our system on a green house managed by a research university as well as a research orchard managed by the agriculture department of a major public university in United States. At the start, we plan to enable three applications for the researchers: monitoring experiments in the greenhouse, automating apple cluster thinning task for apple orchard, and gathering large-scale visual data for disease detection. In designing OrchardScope, we solve three key challenges. 

% First, to enable gathering of high resolution visual and environmental data, we design a mesh network of resourceful devices called OrchardScope nodes that are spread throughout the farm. The camera and other sensors directly connect with the node. There is a lack of power on the farm and these devices are powered by the solar panels with a battery backup. As solar power is impacted by the weather significantly, there has been some work on developing weather-aware edge devices that modulate their operations based on the weather forecasts~\cite{vasisht2017farmbeats}. However, the prior work uses outdated and inaccurate forecasting techniques. We plan to leverage recent work on developing probabilistic weather forecasts that give a distribution solar power based on the weather forecast. The probabilistic forecast approach help understand the uncertainty in the forecast value and accounting that in the operation of the OrchardScope node helps make the system more reliable. 

% Second,  Internet  connection  to  the  farm  is  typically weak or in some cases non-existent making it challenging to ship high bandwidth visual data collected from the OrchardScope nodes to the cloud for processing. 
% To counter this problem, we design our system with an assumption that there is no Internet connectivity to the farm in the form of high-speed internet connection from Internet providers. This constraint pushes our design towards edge computing where we equip the OrchardScope nodes with the embedded devices capable of running computer vision and machine learning tasks. We also enable collaborative edge computing for the cases where a single device will not be able to satisfy the processing needs of a particular application. We send high level summaries and data to the cloud where the researchers and farmers can get access to the data. We are also considering providing access to the data within the farm, if needed. 

% Finally, while drones are one of the most exciting farm sensors today, they suffer from poor battery life. Getting aerial imagery for a farm requires multiple drone flights and a long wait time in between when the batteries are being charged. These characteristics are not suitable for our intended applications where we may need data of various parts of a single tree every few minutes, i.e. capturing multiple apple clusters on a single tree every 20 minutes. Therefore, we decide on the static placement of cameras inside the farm where each camera captures multiple trees and provides high resolution images of very tiny parts of the trees.\fatima{I think we should not highlight static placement because we have the capability of rotation and zooming in on a particular event of interest.} Our cameras use computer vision and image processing techniques to enable capturing of very small parts of the tree or get wide views that may be needed for some applications. 



% \fatima{Comment on the cost of your test bed.}

% % The rest of the paper is organized as follows. We describe the high level architecture of the OrchardScope in Section~\ref{fig:architecture}. The design details for the OrchardScope node are given in Section~\ref{node}, while the network details are outlined in Section~\ref{network}. The application tier is described in the Section~\ref{application}. Finally, we will present our deployment details in Section~\ref{deployments}. 
% % % \fatima{We can remove this paragraph.}

% \fatima{It's good to write it in context of an architecture that caters to various precision agriculture applications and is extensible in terms of it's sensing, network, and compute capability to support future applications}